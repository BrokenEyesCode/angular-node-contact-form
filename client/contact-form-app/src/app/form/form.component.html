<div class="content" role="main">
  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()">
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset" aria-describedby="contact-hint">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
          <h1 class="govuk-fieldset__heading">
            How would you prefer to be contacted?
          </h1>
        </legend>
        <div id="contact-hint" class="govuk-hint">
          Select one option.
        </div>
        <div class="govuk-radios" data-module="govuk-radios">
          <div class="govuk-radios__item">
            <input class="govuk-radios__input"
              id="contact" name="contact" type="radio"
              value="email" checked data-aria-controls="conditional-contact"
              formControlName="contact">
            <label class="govuk-label govuk-radios__label" for="contact">
              Email
            </label>
          </div>
          <div class="govuk-radios__conditional" id="conditional-contact">
            <div class="govuk-form-group"
              *ngIf="contactForm.value.contact === 'email'"
              [ngClass]="{'govuk-form-group--error' : contactForm.value.email == ''}">
              <label class="govuk-label" for="contact-by-email">
                Email address
              </label>

              <p *ngIf="contactForm.value.email == ''" id="contact-by-email-error" class="govuk-error-message">
                <span class="govuk-visually-hidden" *ngIf="false">Error:</span> Email address cannot be blank
              </p>

              <input class="govuk-input govuk-!-width-one-half"
                id="contact-by-email" name="contact-by-email" type="email"
                spellcheck="false" aria-describedby="contact-by-email-error"
                autocomplete="email" email formControlName="email">
            </div>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="contact-2" name="contact"
              type="radio" value="phone" data-aria-controls="conditional-contact-2"
              formControlName="contact">
            <label class="govuk-label govuk-radios__label" for="contact-2">
              Phone
            </label>
          </div>
          <div class="govuk-radios__conditional govuk-radios__conditional--hidden"
            id="conditional-contact-2">
            <div class="govuk-form-group" *ngIf="contactForm.value.contact === 'phone' ">
              <label class="govuk-label" for="contact-by-phone">
                Phone number
              </label>
              <input class="govuk-input govuk-!-width-one-third"
                id="contact-by-phone" name="contact-by-phone"
                type="tel" autocomplete="tel">
            </div>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" id="contact-3"
              name="contact" type="radio" value="text" data-aria-controls="conditional-contact-3"
              formControlName="contact">
            <label class="govuk-label govuk-radios__label" for="contact-3">
              Text message
            </label>
          </div>
          <div class="govuk-radios__conditional govuk-radios__conditional--hidden" id="conditional-contact-3">
            <div class="govuk-form-group" *ngIf="contactForm.value.contact === 'text'">
              <label class="govuk-label" for="contact-by-text">
                Mobile phone number
              </label>
              <input class="govuk-input govuk-!-width-one-third"
                id="contact-by-text" name="contact-by-text" type="tel"
                autocomplete="tel">
            </div>
          </div>
        </div>
      </fieldset>
      <button class="govuk-button" data-module="govuk-button">
        Save and continue
      </button>
    </div>
  </form>

</div>

